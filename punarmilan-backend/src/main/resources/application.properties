# ===============================
# Application
# ===============================
spring.application.name=punarmilan-backend
server.port=8080

# ===============================
# Database (MySQL)
# ===============================
spring.datasource.url=jdbc:mysql://localhost:3306/punarmilan?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===============================
# Redis
# ===============================
spring.data.redis.host=localhost
spring.data.redis.port=6379
# Production Hardening: Redis Management (Requires Redis Server support for these properties)
spring.data.redis.max-memory=256mb
spring.data.redis.eviction-policy=allkeys-lru


# ===============================
# JPA / Hibernate
# ===============================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ===============================
# Error Handling
# ===============================
server.error.include-message=always
server.error.include-binding-errors=always

# ===============================
# Logging (DEV SAFE)
# ===============================
logging.level.com.punarmilan=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=INFO

# ===============================
# File Upload
# ===============================
file.upload-dir=./uploads
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===============================
# JWT Configuration
# ===============================
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# ===============================
# CORS
# ===============================
cors.allowed-origins=http://localhost:3000

# ===============================
# WebSocket
# ===============================
spring.websocket.allowed-origins=http://localhost:3000

# ===============================
# Payment - Razorpay
# ===============================
razorpay.key.id=${RAZORPAY_KEY_ID}
razorpay.key.secret=${RAZORPAY_KEY_SECRET}

# ===============================
# Premium Pricing (PAISE)
# ===============================
premium.pricing.monthly=29900
premium.pricing.yearly=299900
premium.pricing.lifetime=999900

# ===============================
# Email (Gmail SMTP)
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.default-encoding=UTF-8


# ===============================
# Application URLs
# ===============================
app.base-url=http://localhost:8080
app.frontend-url=http://localhost:3000

# ===============================
# Premium Features
# ===============================
app.premium.daily-connections=100
app.premium.unlimited-messages=true
app.premium.advanced-search=true
app.premium.priority-support=true

# ===============================
# Webhook Endpoints
# ===============================
app.webhook.razorpay=/api/payments/webhook/razorpay

spring.datasource.hikari.maximum-pool-size=40
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=20000
